function tailor(){tailor.lastResizing=(new Date).getTime(),tailor.resizeTimer||(tailor.resizeTimer=setTimeout(tailor.attemptReload,tailor.settings.resizeThreshold))}tailor.configure=function(t){var a={layout:{resizeThreshold:tailor.settings.layout.resizeThreshold},gps:{}};if(t.layout)if(t.layout.framework){a.layout.framework=t.layout.framework;var e=a.layout.framework.toLowerCase();if(tailor.supported.layout[e])if(t.layout.version){a.layout.version=t.layout.version;var o="v"+a.layout.version.toLowerCase();o=o.replace("-","_"),o=o.replace(".","_"),tailor.breakpoints=tailor.supported.layout[e][o]?tailor.supported.layout[e][o].breakpoints:tailor.supported.layout[e].defaults.breakpoints}else tailor.breakpoints=tailor.supported.layout[e].defaults.breakpoints;else tailor.breakpoints=tailor.supported.layout.defaults.breakpoints}else tailor.breakpoints=tailor.supported.layout.defaults.breakpoints;if(a.layout.supported=t.layout.supported||tailor.settings.layout.supported,a.layout.tokenName=t.layout.tokenName||tailor.settings.layout.tokenName,t.gps||(t.gps={}),a.gps.tokenName=t.gps.tokenName||tailor.settings.gps.tokenName,a.gps.refreshOnAvailabilityChange=t.gps.refreshOnAvailabilityChange||tailor.settings.gps.refreshOnAvailabilityChange,a.gps.isAvailable=t.gps.isAvailable,!a.gps.isAvailable){a.gps.isAvailable=tailor.getTokenValue(a.gps.tokenName);var r=(null!==navigator.geolocation).toString();r!==a.gps.isAvailable&&(r||a.gps.isAvailable)&&a.gps.refreshOnAvailabilityChange&&tailor.changeParam(a.gps.tokenName,!0)}t.layout.current&&(a.layout.current=t.layout.current),document.addEventListener("DOMContentLoaded",function(e){t.layout.current||(a.layout.current=tailor.getLayout()),tailor.attemptReload()}),tailor.settings=a},tailor.attemptReload=function(){var t=(new Date).getTime();if(t-tailor.lastResizing>tailor.settings.layout.resizeThreshold){tailor.resizeTimer&&(clearTimeout(tailor.resizeTimer),tailor.resizeTimer=null);var a=tailor.getLayout();a!=tailor.settings.layout.current&&(tailor.changeParam(tailor.settings.layout.tokenName,a),tailor.settings.layout.current=a);var e=tailor.changedParams;if(tailor.countChangedParams()>0)if(navigator.cookieEnabled){for(var o in e)tailor.setCookie(o,e[o]);location.reload()}else{var r=location.href;for(var i in e)r=tailor.setQueryStringValue(r,i,e[i]);location.replace(r)}}else tailor.resizeTimer=setTimeout(tailor.attemptReload,tailor.settings.layout.resizeThreshold)},tailor.getTokenValue=function(t){var a=null;if(navigator.cookieEnabled)for(var e=t+"=",o=document.cookie.split(";"),r=0;r<o.length;r++){for(var i=o[r];" "==i.charAt(0);)i=i.substring(1);if(0===i.indexOf(e)){a=i.substring(e.length,i.length);break}}else{var l=window.location.href,s=new RegExp("[?&]"+t+"=([^&#]*)","i"),n=s.exec(l);a=n?n[1]:null}return a},tailor.setCookie=function(t,a){document.cookie=t+"="+a},tailor.setQueryStringValue=function(t,a,e){var o=new RegExp("([?&])"+a+"=.*?(&|$)","i");if(t.match(o))t=t.replace(o,"$1"+a+"="+e+"$2");else{var r=-1!==t.indexOf("?")?"&":"?";t=t+r+a+"="+e}return t},tailor.changeParam=function(t,a){tailor.changedParams[t]=a},tailor.countChangedParams=function(){var t=0;for(var a in tailor.changedParams)tailor.changedParams.hasOwnProperty(a)&&t++;return t},tailor.getLayout=function(t){for(var a=tailor.settings.layout.supported[tailor.settings.layout.supported.length-1],e=document.body.scrollWidth,o=0;o<tailor.breakpoints.length;o++)if(e<tailor.breakpoints[o]){a=tailor.settings.layout.supported[o];break}return a},tailor.settings={gps:{tokenName:"isGpsAvailable",isAvailable:null,refreshOnAvailabilityChange:!0},layout:{framework:null,version:null,resizeThreshold:200,current:null,supported:["mobile","portrait","landscape"],tokenName:"layout"}},tailor.supported={layout:{bootstrap:{defaults:{breakpoints:[768,992]}},foundation:{v4_0_0:{breakpoints:[641,1025]},defaults:{breakpoints:[641,1025]}},custom:{defaults:{breakpoints:[]}},defaults:{breakpoints:[640,1024]}}},tailor.lastResizing=null,tailor.resizeTimer=null,tailor.breakpoints=[],tailor.changedParams=[];